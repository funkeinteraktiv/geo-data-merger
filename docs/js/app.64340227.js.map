{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/widgets/FileChooserWidget/index.js","webpack:///./public/images/swap.svg","webpack:///./src/components/ButtonLight/index.js","webpack:///./src/components/ErrorMessage/index.js","webpack:///./src/widgets/KeySelectWidget/index.js","webpack:///./src/widgets/ResultWidget/index.js","webpack:///./src/widgets/FieldSelectWidget/index.js","webpack:///./src/widgets/DownloadWidget/index.js","webpack:///./public/images/logo_big.png","webpack:///./src/state/Store.js","webpack:///./src/components/Headline/index.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Header/index.js","webpack:///./src/pages/App/index.js","webpack:///./src/styles/Global.js","webpack:///./src/index.js","webpack:///./src/styles/theme.js","webpack:///./src/components/Widget/index.js","webpack:///./src/components/FileSection/index.js","webpack:///./src/state/Actions.js","webpack:///./src/state/Selectors.js","webpack:///./src/utils/export-utils.js","webpack:///./src/utils/index.js","webpack:///./src/components/FileSectionWrapper/index.js","webpack:///./src/utils/import-utils.js","webpack:///./src/components/DataTable/index.js","webpack:///./src/components/Select/index.js","webpack:///./src/components/Button/index.js","webpack:///./src/components/Checkbox/index.js","webpack:///./src/components/FileHandler/CopyPasteTarget.js","webpack:///./src/components/FileHandler/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ButtonWrapper","Styled","div","withConfig","componentId","props","isVisible","renderError","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_components_ErrorMessage__WEBPACK_IMPORTED_MODULE_18__","FileChooserWidget","PureComponent","fileType","_this","this","_components_Checkbox__WEBPACK_IMPORTED_MODULE_19__","style","marginTop","checked","concat","onChange","toggleFirstRowHeader","label","_this2","_this$props","baseData","baseFileName","baseDataError","baseFileType","mergeData","mergeFileName","mergeDataError","mergeFileType","hasBaseData","hasMergeData","_components_Widget__WEBPACK_IMPORTED_MODULE_14__","step","title","config","sections","subtitle","_components_FileSectionWrapper__WEBPACK_IMPORTED_MODULE_16__","_components_FileSection__WEBPACK_IMPORTED_MODULE_17__","_components_FileHandler__WEBPACK_IMPORTED_MODULE_12__","setBaseData","onError","setError","fileName","dropText","textareaPlaceholder","setMergeData","isActive","textAlign","_components_ButtonLight__WEBPACK_IMPORTED_MODULE_15__","onClick","swapData","_public_images_swap_svg__WEBPACK_IMPORTED_MODULE_10__","width","height","includes","renderCsvOptions","_components_DataTable__WEBPACK_IMPORTED_MODULE_13__","marginLeft","connect","state","baseFirstRowHeader","mergeFirstRowHeader","Actions","__webpack_exports__","_ref","_ref$styles","styles","obj","keys","target","indexOf","_objectWithoutProperties","react__WEBPACK_IMPORTED_MODULE_2___default","_extends","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","styled_components__WEBPACK_IMPORTED_MODULE_0__","_components_Button__WEBPACK_IMPORTED_MODULE_1__","Button","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","styled_components__WEBPACK_IMPORTED_MODULE_1__","Wrapper","theme","colors","warning","Inner","Title","children","SelectWrapper","section","KeySelectWidget","baseKey","mergeKey","baseKeys","idx","_","columns","mergeKeys","react__WEBPACK_IMPORTED_MODULE_5___default","_components_Widget__WEBPACK_IMPORTED_MODULE_11__","_components_FileSectionWrapper__WEBPACK_IMPORTED_MODULE_12__","_components_FileSection__WEBPACK_IMPORTED_MODULE_13__","_components_Select__WEBPACK_IMPORTED_MODULE_10__","options","setBaseKey","placeholder","disabled","setMergeKey","ResultWidget","Component","_components_Widget__WEBPACK_IMPORTED_MODULE_9__","_components_DataTable__WEBPACK_IMPORTED_MODULE_8__","resultData","excludeFields","mergedDataSelector","CheckboxWrapper","FieldSelectWidget","mergedData","map","columnName","_components_Checkbox__WEBPACK_IMPORTED_MODULE_13__","toggleExcludeField","hasData","_components_Widget__WEBPACK_IMPORTED_MODULE_12__","renderCheckboxes","DownloadWrapper","DownloadInteraction","DownloadWidget","setDownloadFormat","downloadFormat","baseIsGeo","isDisabled","formats","downloadFormats","filter","react__WEBPACK_IMPORTED_MODULE_8___default","_components_Select__WEBPACK_IMPORTED_MODULE_15__","_components_Button__WEBPACK_IMPORTED_MODULE_16__","downloadFile","isBaseDataGeo","Store","createStore","Headline","h1","Bold","span","Subtitle","fonts","mono","components_Headline","react_default","react","FooterWrapper","darkBackground","FooterInner","Footer","href","HeaderWrapper","header","Logo","img","Header","src","logoSrc","alt","AppWrapper","App","components_Header","components_Footer","createGlobalStyle","_templateObject","styledNormalize","background","root","document","ReactDOM","render","unistore_react","store","styled_components_browser_esm","black","interaction","interactionInactive","darkgray","sans","Global","pages_App","body","appendChild","Widget","WidgetTitleWrapper","Step","h2","_ref$isActive","FileSection","defaultProps","fileData","_objectSpread","setData","type","isDelete","_defineProperty","rawData","getState","setTimeout","setState","mergeRawData","baseRawData","fieldName","index","_ref3","isFirstRowHeader","parseCsv","getColumns","baseDataSelector","mergeDataMapSelector","createSelector","mergeDataMap","res","addData","assign","removePropsFromObject","arguments","undefined","reduce","prev","curr","stringifyJSON","JSON","stringify","JSON2GeoJSON","features","properties","geometry","__geometry","id","__id","feature","featureCollection","filetype","dataClean","cleanData","downloadData","formatGeoJSON","geoJSON","topology","formatTopoJSON","formatJSON","csvFormat","formatCsv","dataBlob","Blob","saveAs","import_utils","FileSectionWrapper","guessDelimiter","file","defaultDelimiters","find","delim","rxp","str","replace","regexEscape","RegExp","getDelimiterRxp","test","delimiter","formattedCsv","D3Dsv","parse","parseRows","row","item","e","geoJSON2JSON","feat","_toConsumableArray","Set","col","unifyData","getType","isGeoJSON","isTopoJSON","topoJSON","objectName","objects","TopoJSON","topoJSON2JSON","parseFile","jsonData","parseJSON","TableWrapper","DataTable","accessor","Cell","react__WEBPACK_IMPORTED_MODULE_9___default","react_table__WEBPACK_IMPORTED_MODULE_10__","showPagination","sortable","minRows","noDataText","PropTypes","arrayOf","string","StyledSelect","styled","select","Select","evt","react__WEBPACK_IMPORTED_MODULE_6___default","opt","func","button","Checkbox","CheckboxLabel","rest","react__WEBPACK_IMPORTED_MODULE_4___default","Textarea","textarea","CopyPasteWrapper","CopyPasteTarget","StyledTabs","Tabs","TabContainer","TabList","Dropzone","ReactDropzone","FileWrapper","CloseIconWrapper","FileName","FileHandler","acceptedFiles","readFile","content","preventDefault","reader","FileReader","onload","readAsText","onDeleteFile","x_default","size","file_default","_this3","esm","accept","onDrop","multiple","renderFile","FileHandler_CopyPasteTarget","onPaste","bool"],"mappings":"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","file":"js/app.64340227.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([172,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport Styled from 'styled-components';\n\nimport SwapIcon from '../../../public/images/swap.svg';\nimport Actions from '~/state/Actions';\nimport FileHandler from '~/components/FileHandler';\nimport DataTable from '~/components/DataTable';\nimport Widget from '~/components/Widget';\nimport ButtonLight from '~/components/ButtonLight';\nimport FileSectionWrapper from '~/components/FileSectionWrapper';\nimport FileSection from '~/components/FileSection';\nimport ErrorMessage from '~/components/ErrorMessage';\nimport Checkbox from '~/components/Checkbox';\n\nconst ButtonWrapper = Styled.div`\n  display: ${props => (props.isVisible ? 'block' : 'none')};\n  width: 8%;\n\n  button {\n    width: 100%;\n  }\n`;\n\nconst step = 0;\n\nfunction renderError() {\n  return (\n    <ErrorMessage>\n      Please check if your data is valid json, csv, geojson or topojson.\n    </ErrorMessage>\n  );\n}\n\nclass FileChooserWidget extends PureComponent {\n  renderCsvOptions(fileType) {\n    return (\n      <Checkbox\n        style={{ marginTop: '8px' }}\n        checked={this.props[`${fileType}FirstRowHeader`]}\n        onChange={() => this.props.toggleFirstRowHeader(fileType)}\n        label=\"First row is header\"\n      />\n    );\n  }\n\n  render() {\n    const {\n      baseData, baseFileName, baseDataError, baseFileType,\n      mergeData, mergeFileName, mergeDataError, mergeFileType\n    } = this.props;\n    const hasBaseData = !!baseData.length;\n    const hasMergeData = !!mergeData.length;\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n      >\n        <FileSectionWrapper>\n          <FileSection>\n            <FileHandler\n              onChange={this.props.setBaseData}\n              onError={() => this.props.setError('base')}\n              fileName={baseFileName}\n              dropText=\"Drop base file here\"\n              textareaPlaceholder=\"Paste base data here ...\"\n            />\n            {baseDataError && renderError()}\n          </FileSection>\n          <FileSection>\n            <FileHandler\n              onChange={this.props.setMergeData}\n              onError={() => this.props.setError('merge')}\n              fileName={mergeFileName}\n              dropText=\"Drop merge file here\"\n              textareaPlaceholder=\"Paste merge data here ...\"\n              isActive={hasBaseData}\n            />\n            {mergeDataError && renderError()}\n          </FileSection>\n        </FileSectionWrapper>\n\n        <FileSectionWrapper>\n          <FileSection style={{ textAlign: 'center' }}>\n            File 1\n          </FileSection>\n          <ButtonWrapper isVisible={(hasBaseData && hasMergeData)}>\n            <ButtonLight onClick={this.props.swapData}>\n              <SwapIcon style={{ width: '16px', height: '16px' }} />\n            </ButtonLight>\n          </ButtonWrapper>\n          <FileSection style={{ textAlign: 'center' }}>\n            File 2\n          </FileSection>\n        </FileSectionWrapper>\n\n        <FileSectionWrapper isVisible={(hasBaseData || hasMergeData)}>\n          <FileSection isVisible={hasBaseData}>\n            {baseFileType.includes('csv') && this.renderCsvOptions('base')}\n            <DataTable data={this.props.baseData} />\n          </FileSection>\n          <FileSection isVisible={hasMergeData} style={{ marginLeft: 'auto' }}>\n            {mergeFileType.includes('csv') && this.renderCsvOptions('merge')}\n            <DataTable data={this.props.mergeData} />\n          </FileSection>\n        </FileSectionWrapper>\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  baseFileName: state.baseFileName,\n  baseFileType: state.baseFileType,\n  baseDataError: state.baseDataError,\n  baseFirstRowHeader: state.baseFirstRowHeader,\n  mergeData: state.mergeData,\n  mergeFileName: state.mergeFileName,\n  mergeDataError: state.mergeDataError,\n  mergeFileType: state.mergeFileType,\n  mergeFirstRowHeader: state.mergeFirstRowHeader\n}), Actions)(FileChooserWidget);\n","function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from \"react\";\nexport default ((_ref) => {\n  let {\n    styles = {}\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"styles\"]);\n\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={(styles[\"feather\"] || \"feather\") + \" \" + (styles[\"feather-repeat\"] || \"feather-repeat\")} {...props}><path d=\"M17 1l4 4-4 4\" /><path d=\"M3 11V9a4 4 0 0 1 4-4h14M7 23l-4-4 4-4\" /><path d=\"M21 13v2a4 4 0 0 1-4 4H3\" /></svg>;\n});","import Styled from 'styled-components';\nimport Button from '~/components/Button';\n\nexport default Styled(Button)`\n  background: white;\n`;\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Wrapper = Styled.div`\n  background: ${props => props.theme.colors.warning};\n  padding: 12px;\n  color: white;\n  border-radius: 4px;\n  margin-top: 8px;\n  display: flex\n`;\n\nconst Inner = Styled.div`\n  margin-left: 10px;\n`;\n\nconst Title = Styled.div`\n  font-weight: 700;\n  margin-bottom: 5px;\n`;\n\nexport default props => (\n  <Wrapper>\n    <Inner>\n      <Title>An Error occured.</Title>\n      {props.children}\n    </Inner>\n  </Wrapper>\n);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport idx from 'idx';\nimport Styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\n\nimport Select from '~/components/Select';\nimport Widget from '~/components/Widget';\nimport FileSectionWrapper from '~/components/FileSectionWrapper';\nimport FileSection from '~/components/FileSection';\n\nconst SelectWrapper = Styled.div`\n  display: flex;\n  justify-content: center;\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n`;\n\nconst step = 1;\n\nclass KeySelectWidget extends PureComponent {\n  render() {\n    const {\n      baseData, mergeData, baseKey, mergeKey\n    } = this.props;\n    const baseKeys = idx(baseData, _ => _.columns) || [];\n    const mergeKeys = idx(mergeData, _ => _.columns) || [];\n    const isActive = baseData.length > 0;\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={isActive}\n      >\n        <FileSectionWrapper>\n          <FileSection>\n            <SelectWrapper>\n              <Select\n                options={baseKeys}\n                onChange={this.props.setBaseKey}\n                placeholder=\"Select key...\"\n                disabled={!isActive}\n                value={baseKey || 'default'}\n              />\n            </SelectWrapper>\n          </FileSection>\n          <FileSection>\n            <SelectWrapper>\n              <Select\n                options={mergeKeys}\n                onChange={this.props.setMergeKey}\n                placeholder=\"Select key...\"\n                disabled={mergeData.length === 0}\n                value={mergeKey || 'default'}\n              />\n            </SelectWrapper>\n          </FileSection>\n        </FileSectionWrapper>\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  mergeData: state.mergeData,\n  baseKey: state.baseKey,\n  mergeKey: state.mergeKey\n}), Actions)(KeySelectWidget);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\n\nimport { mergedDataSelector } from '~/state/Selectors';\n\nimport DataTable from '~/components/DataTable';\nimport Widget from '~/components/Widget';\n\nconst step = 2;\n\nclass ResultWidget extends Component {\n  render() {\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={this.props.baseData.length > 0}\n      >\n        <DataTable data={this.props.resultData} excludeFields={this.props.excludeFields} />\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  resultData: mergedDataSelector(state),\n  baseData: state.baseData,\n  excludeFields: state.excludeFields\n}))(ResultWidget);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport Styled from 'styled-components';\n\nimport { mergedDataSelector } from '~/state/Selectors';\nimport Actions from '~/state/Actions';\nimport Widget from '~/components/Widget';\nimport Checkbox from '~/components/Checkbox';\n\nconst step = 3;\n\nconst CheckboxWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nclass FieldSelectWidget extends PureComponent {\n  renderCheckboxes() {\n    return (\n      <CheckboxWrapper>\n        {this.props.mergedData.columns.map(columnName => (\n          <Checkbox\n            key={`FieldSelect__${columnName}`}\n            checked={this.props.excludeFields.indexOf(columnName) === -1}\n            onChange={() => this.props.toggleExcludeField(columnName)}\n            label={columnName}\n          />\n        ))}\n      </CheckboxWrapper>\n    );\n  }\n\n  render() {\n    const hasData = !!this.props.mergedData.length;\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={this.props.baseData.length > 0}\n      >\n        {hasData ? this.renderCheckboxes() : 'No data merged yet.'}\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  mergedData: mergedDataSelector(state),\n  baseData: state.baseData,\n  excludeFields: state.excludeFields\n}), Actions)(FieldSelectWidget);\n","import React, { Component } from 'react';\nimport Styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { mergedDataSelector, isBaseDataGeo } from '~/state/Selectors';\nimport { downloadFile } from '~/utils';\n\nimport Actions from '~/state/Actions';\n\nimport Widget from '~/components/Widget';\nimport Select from '~/components/Select';\nimport Button from '~/components/Button';\n\nconst DownloadWrapper = Styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 16px;\n  background: ${props => props.theme.colors.section};\n`;\n\nconst DownloadInteraction = Styled.div`\n  display: flex;\n`;\n\nconst step = 4;\n\nclass DownloadWidget extends Component {\n  render() {\n    const {\n      baseData,\n      setDownloadFormat,\n      mergedData,\n      downloadFormat,\n      excludeFields,\n      baseIsGeo\n    } = this.props;\n\n    const isDisabled = baseData.length === 0;\n    const formats = baseIsGeo ?\n      config.downloadFormats :\n      config.downloadFormats.filter(d => !['geojson', 'topojson'].includes(d));\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={baseData.length > 0}\n      >\n        <DownloadWrapper>\n          <DownloadInteraction>\n            <Select\n              options={isDisabled ? [] : formats}\n              placeholder=\"Select format...\"\n              onChange={setDownloadFormat}\n              disabled={isDisabled}\n              value={downloadFormat || 'default'}\n            />\n            <Button\n              disabled={!mergedData || !mergedData.length}\n              onClick={() => downloadFile(mergedData, downloadFormat, excludeFields)}\n              style={{ marginLeft: '20px', width: '200px' }}\n            >\n              Download\n            </Button>\n          </DownloadInteraction>\n        </DownloadWrapper>\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  mergedData: mergedDataSelector(state),\n  downloadFormat: state.downloadFormat,\n  excludeFields: state.excludeFields,\n  baseIsGeo: isBaseDataGeo(state)\n}), Actions)(DownloadWidget);\n","module.exports = __webpack_public_path__ + \"public/images/logo_big.png\";","import createStore from 'unistore';\n\nconst Store = createStore({\n  baseData: [],\n  mergeData: [],\n  baseKey: null,\n  mergeKey: null,\n  baseDataError: null,\n  mergeDataError: null,\n  baseFileType: '',\n  mergeFileType: '',\n  baseFirstRowHeader: true,\n  mergeFirstRowHeader: true,\n  downloadFormat: null,\n  excludeFields: []\n});\n\nexport default Store;\n","import React, { Fragment } from 'react';\nimport Styled from 'styled-components';\n\nconst Headline = Styled.div`\n  text-align: center;\n  margin-bottom: 50px;\n  `;\n\n\nconst Title = Styled.h1`\n  margin: 0;\n  font-weight: 400;\n  font-size: 60px;\n`;\n\nconst Bold = Styled.span`\n  font-weight: 900;\n`;\n\nconst Subtitle = Styled.div`\n  margin: 10px 0 20px 0;\n  font-family: ${props => props.theme.fonts.mono};\n`;\n\nexport default () => (\n  <Fragment>\n    <Headline>\n      <Title>(Geo) <Bold>DataMerger</Bold></Title>\n      <Subtitle>A small tool for merging different Datasets together.</Subtitle>\n    </Headline>\n  </Fragment>\n);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nconst FooterWrapper = Styled.div`\n  background: ${props => props.theme.colors.darkBackground};\n  padding: 32px 0;\n  color: white;\n`;\n\nconst FooterInner = Styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 0 16px;\n\n  a {\n    color: white;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nclass Footer extends PureComponent {\n  render() {\n    return (\n      <FooterWrapper>\n        <FooterInner>\n          <a href=\"https://github.com/funkeinteraktiv\">Imprint / Privacy</a>\n        </FooterInner>\n      </FooterWrapper>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nimport logoSrc from '../../../public/images/logo_big.png';\n\nconst HeaderWrapper = Styled.header`\n  padding: 8px 16px;\n`;\n\nconst Logo = Styled.img`\n  max-width: 100px;\n`;\n\nclass Header extends PureComponent {\n  render() {\n    return (\n      <HeaderWrapper>\n        <Logo src={logoSrc} alt=\"Funke Logo\" />\n      </HeaderWrapper>\n    );\n  }\n}\n\nexport default Header;\n","import React, { PureComponent, Fragment } from 'react';\nimport Styled from 'styled-components';\n\nimport Headline from '~/components/Headline';\nimport FileChooserWidget from '~/widgets/FileChooserWidget';\nimport KeySelectWidget from '~/widgets/KeySelectWidget';\nimport ResultWidget from '~/widgets/ResultWidget';\nimport FieldSelectWidget from '~/widgets/FieldSelectWidget';\nimport DownloadWidget from '~/widgets/DownloadWidget';\nimport Footer from '~/components/Footer';\nimport Header from '~/components/Header';\n\nconst AppWrapper = Styled.div`\n  margin: 0 auto;\n  max-width: 960px;\n  padding: 32px 16px;\n`;\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <Fragment>\n        <Header />\n        <AppWrapper>\n          <Headline />\n          <FileChooserWidget />\n          <KeySelectWidget />\n          <ResultWidget />\n          <FieldSelectWidget />\n          <DownloadWidget />\n        </AppWrapper>\n        <Footer />\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import styledNormalize from 'styled-normalize';\nimport { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:400,700,900');\n\n  ${styledNormalize}\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    position: relative;\n    font-family: 'Roboto', sans-serif;\n    background: ${props => props.theme.colors.background};\n    color: ${props => props.theme.colors.darkBackground};\n  }\n`;\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'unistore/react';\nimport { ThemeProvider } from 'styled-components';\n\nimport Store from '~/state/Store';\nimport App from '~/pages/App';\nimport GlobalStyles from '~/styles/Global';\nimport theme from '~/styles/theme';\n\nconst root = document.createElement('div');\n\nReactDOM.render(\n  <Provider store={Store}>\n    <ThemeProvider theme={theme}>\n      <Fragment>\n        <GlobalStyles />\n        <App />\n      </Fragment>\n    </ThemeProvider>\n  </Provider>,\n  root\n);\n\ndocument.body.appendChild(root);\n","export default {\n  colors: {\n    black: '#222',\n    // background: '#FFFCEA',\n    background: '#FFFFFF',\n    // section: '#EDE7D3',\n    section: '#EEEEEE',\n    // interaction: '#FFAE55',\n    interaction: '#5AFF78',\n    interactionInactive: '#ddd',\n    darkgray: '#888',\n    darkBackground: '#3D3D3D',\n    warning: '#dd8080'\n  },\n  fonts: {\n    sans: 'Roboto, sans-serif',\n    mono: 'Roboto Mono, monospace'\n  }\n};\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Widget = Styled.div`\n  margin: 32px 0 16px 0;\n  padding: 15px 0;\n  border-top: 3px solid ${props => props.theme.colors.darkBackground};\n`;\n\nconst WidgetTitleWrapper = Styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  opacity: ${props => (props.isActive ? 1 : 0.5)};\n`;\n\nconst Step = Styled.div`\n  background: ${props => (props.isActive ? props.theme.colors.interaction : props.theme.colors.interactionInactive)};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  line-height: 1;\n  margin-right: 16px;\n  border-radius: 50%;\n  font-weight: 700;\n`;\n\nconst Title = Styled.h2`\n  margin: 0;\n  font-size: 20px;\n`;\n\nconst Subtitle = Styled.div`\n  margin: 0 0 16px 0;\n  color: ${props => props.theme.colors.darkgray};\n  font-family: ${props => props.theme.fonts.mono};\n  font-size: 14px;\n`;\n\nexport default ({\n  title, subtitle, step, children, isActive = true\n}) => (\n  <Widget>\n    <WidgetTitleWrapper isActive={isActive}>\n      <Step isActive={isActive}>{step + 1}</Step>\n      <Title isActive={isActive}>{title}</Title>\n    </WidgetTitleWrapper>\n    <Subtitle>{subtitle}</Subtitle>\n    {children}\n  </Widget>\n);\n","import Styled from 'styled-components';\n\nconst FileSection = Styled.div`\n  display: ${props => (props.isVisible ? 'block' : 'none')};\n  width: 46%;\n`;\n\nFileSection.defaultProps = {\n  isVisible: true\n};\n\nexport default FileSection;\n","/* eslint-disable */\nimport { parseCsv, getColumns } from '~/utils/import-utils';\n\nconst setBaseData = store => (state, fileData) => {\n  const data = setData('base', store, fileData);\n  const isDelete = fileData === null;\n\n  return {\n    ...data,\n    downloadFormat: isDelete ? null : fileData.data.type,\n  };\n}\n\nconst setMergeData = store => (state, fileData) => {\n  const data = setData('merge', store, fileData);\n\n  return data;\n}\n\n// helper function used by setBaseData and setMergeData actions\nconst setData = (key, store, fileData) => {\n  const isDelete = fileData === null;\n  const isValid = !isDelete && fileData.data && fileData.data.type;\n\n  if (!isValid && !isDelete) {\n    return setError(store)(store.getState(), key);\n  }\n\n  return {\n    [`${key}RawData`]: isDelete ? [] : fileData.rawData,\n    [`${key}Data`]: isDelete ? [] : fileData.data,\n    [`${key}Key`]: isDelete ? '' : fileData.data.columns[0],\n    [`${key}FileName`]: isDelete ? '' : fileData.fileName,\n    [`${key}FileType`]: isDelete ? '' : fileData.type\n  };\n}\n\nconst setError = store => (state, key) => {\n  window.setTimeout(() => {\n    store.setState({ [`${key}DataError`]: null })\n  }, 4500);\n\n  return {\n    [`${key}DataError`]: true\n  };\n}\n\nconst setBaseKey = (state, key) => {\n  return { baseKey: key };\n}\n\nconst setMergeKey = (state, key) => {\n  return { mergeKey: key };\n}\n\nconst setDownloadFormat = (state, downloadFormat) => {\n  return { downloadFormat };\n}\n\nconst swapData = (state) => {\n  return {\n    mergeData: state.baseData,\n    baseData: state.mergeData,\n    mergeRawData: state.baseRawData,\n    baseRawData: state.mergeRawData,\n    mergeKey: state.baseKey,\n    baseKey: state.mergeKey,\n    mergeFileName: state.baseFileName,\n    baseFileName: state.mergeFileName,\n    mergeFileType: state.baseFileType,\n    baseFileType: state.mergeFileType,\n  };\n}\n\nconst toggleExcludeField = (state, fieldName) => {\n  const index = state.excludeFields.indexOf(fieldName)\n\n  if (index === -1) {\n    return {\n      excludeFields: state.excludeFields.concat([fieldName])\n    };\n  }\n  return {\n    excludeFields: state.excludeFields.filter((d, i) => i !== index)\n  };\n}\n\nconst toggleFirstRowHeader = (state, fileType) => {\n  const isFirstRowHeader = !state[`${fileType}FirstRowHeader`];\n  const data = parseCsv(state[`${fileType}RawData`], isFirstRowHeader);\n\n  data.columns = getColumns(data);\n\n  return {\n    [`${fileType}Data`]: data,\n    [`${fileType}FirstRowHeader`]: isFirstRowHeader\n  };\n}\n\nexport default store => ({\n  setBaseData: setBaseData(store),\n  setMergeData: setMergeData(store),\n  setError: setError(store),\n  setBaseKey,\n  setMergeKey,\n  setDownloadFormat,\n  swapData,\n  toggleExcludeField,\n  toggleFirstRowHeader\n});\n","import { createSelector } from 'reselect';\nimport { map } from 'd3-collection';\nimport { getColumns } from '~/utils';\n\nconst baseDataSelector = state => state.baseData;\nconst mergeDataSelector = state => state.mergeData;\nconst baseKeySelector = state => state.baseKey;\nconst mergeKeySelector = state => state.mergeKey;\n\nconst mergeDataMapSelector = createSelector(\n  [mergeDataSelector, mergeKeySelector],\n  (mergeData, mergeKey) => {\n    if (!mergeData || !mergeKey) {\n      return map([], d => d);\n    }\n\n    return map(mergeData, d => d[mergeKey]);\n  }\n);\n\nexport const mergedDataSelector = createSelector(\n  [baseDataSelector, baseKeySelector, mergeDataMapSelector],\n  (baseData, baseKey, mergeDataMap) => {\n    let res = [];\n\n    if (baseData) {\n      res = baseData.map((d) => {\n        const key = d[baseKey];\n        const addData = mergeDataMap.get(key);\n        return Object.assign({}, d, addData);\n      });\n    }\n\n    res.columns = getColumns(res);\n\n    return res;\n  }\n);\n\nexport const isBaseDataGeo = createSelector(\n  [baseDataSelector],\n  baseData => ['geojson', 'topojson'].includes(baseData.type)\n);\n\nexport default {\n  mergedDataSelector,\n  isBaseDataGeo\n};\n","import { saveAs } from 'file-saver';\nimport { feature, featureCollection } from '@turf/helpers';\nimport { topology } from 'topojson';\nimport { csvFormat } from 'd3-dsv';\n\nexport function removePropsFromObject(obj, props = []) {\n  return Object.keys(obj).reduce((prev, curr) => {\n    if (props.indexOf(curr) === -1) {\n      prev[curr] = obj[curr]; // eslint-disable-line\n    }\n\n    return prev;\n  }, {});\n}\n\nexport function stringifyJSON(data) {\n  return JSON.stringify(data);\n}\n\nexport function formatJSON(data) {\n  const res = data.map(d => removePropsFromObject(d, ['__geometry', '__id']));\n  return stringifyJSON(res);\n}\n\nexport function JSON2GeoJSON(data) {\n  const features = data.map((properties) => {\n    const geometry = properties.__geometry;\n    const options = { id: properties.__id };\n    const props = removePropsFromObject(properties, ['__geometry', '__id']);\n\n    return feature(geometry, props, options);\n  });\n\n  return featureCollection(features);\n}\n\nexport function formatGeoJSON(data) {\n  const geoJSON = JSON2GeoJSON(data);\n  return stringifyJSON(geoJSON);\n}\n\nexport function formatTopoJSON(data) {\n  const geoJSON = JSON2GeoJSON(data);\n  const topoJSON = topology({ data: geoJSON });\n  return stringifyJSON(topoJSON);\n}\n\nexport function formatCsv(data) {\n  const res = data.map(d => removePropsFromObject(d, ['__geometry', '__id']));\n  return csvFormat(res);\n}\n\nexport function cleanData(data, options = {}) {\n  let res = data;\n\n  if (options.excludeFields) {\n    res = res.map(d => removePropsFromObject(d, options.excludeFields));\n  }\n\n  return res;\n}\n\nexport function downloadFile(data, filetype, excludeFields = []) {\n  const dataClean = cleanData(data, {\n    excludeFields\n  });\n\n  let downloadData = null;\n\n  if (filetype === 'geojson') {\n    downloadData = {\n      data: formatGeoJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.geojson'\n    };\n  }\n\n  if (filetype === 'topojson') {\n    downloadData = {\n      data: formatTopoJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.topo.json'\n    };\n  }\n\n  if (filetype === 'json') {\n    downloadData = {\n      data: formatJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.json'\n    };\n  }\n\n  if (filetype === 'csv') {\n    downloadData = {\n      data: formatCsv(dataClean),\n      type: 'text/csv;charset=utf-8',\n      name: 'output.csv'\n    };\n  }\n\n  if (downloadData) {\n    const dataBlob = new Blob([downloadData.data], { type: downloadData.type });\n    saveAs(dataBlob, downloadData.name);\n  }\n}\n\nexport default {\n  downloadFile\n};\n","export * from './import-utils';\nexport * from './export-utils';\n","import Styled from 'styled-components';\n\nconst FileSectionWrapper = Styled.div`\n  display: ${props => (props.isVisible ? 'flex' : 'none')};\n  justify-content: space-between;\n  padding: 10px 0;\n`;\n\nFileSectionWrapper.defaultProps = {\n  isVisible: true\n};\n\nexport default FileSectionWrapper;\n","import * as D3Dsv from 'd3-dsv';\nimport * as TopoJSON from 'topojson';\nimport { getType } from '@turf/invariant';\n\nfunction regexEscape(str) {\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\n\nfunction getDelimiterRxp(delim) {\n  const rxp = `^[^\\\\n\\\\r]+${regexEscape(delim)}`;\n  return new RegExp(rxp);\n}\n\nexport function guessDelimiter(file) {\n  return config.defaultDelimiters.find((delim) => {\n    const rxp = getDelimiterRxp(delim);\n    return rxp.test(file);\n  }) || ',';\n}\n\nexport function parseCsv(file, isFirstRowHeader = true) {\n  let res = false;\n\n  try {\n    const delimiter = guessDelimiter(file);\n    const formattedCsv = D3Dsv.dsvFormat(delimiter);\n\n    if (isFirstRowHeader) {\n      res = formattedCsv.parse(file);\n    } else {\n      res = formattedCsv.parseRows(file, d => d.reduce((row, item, i) => {\n        row[`column_${i + 1}`] = item;\n        return row;\n      }, {}));\n    }\n  } catch (e) {\n    res = false;\n  }\n  return res;\n}\n\nexport function parseJSON(file) {\n  let res = false;\n\n  try {\n    res = JSON.parse(file);\n  } catch (e) {\n    res = false;\n  }\n  return res;\n}\n\nexport function isGeoJSON(data) {\n  const type = getType(data);\n  return type === 'FeatureCollection';\n}\n\nexport function isTopoJSON(data) {\n  const type = getType(data);\n  return type === 'Topology';\n}\n\nexport function geoJSON2JSON(geoJSON) {\n  return geoJSON.features.map(feat => Object.assign({}, {\n    ...feat.properties,\n    __geometry: feat.geometry,\n    __id: feat.id\n  }));\n}\n\nexport function topoJSON2JSON(topoJSON) {\n  const objectName = Object.keys(topoJSON.objects)[0];\n  const geoJSON = TopoJSON.feature(topoJSON, topoJSON.objects[objectName]);\n  return geoJSON2JSON(geoJSON);\n}\n\nexport function getColumns(data) {\n  return data\n    .reduce((prev, curr) => [...new Set(prev.concat(Object.keys(curr)))], [])\n    .filter(col => col.indexOf('__') !== 0);\n}\n\nexport function unifyData(data) {\n  let res = [];\n  let type = '';\n\n  if (isGeoJSON(data)) {\n    res = geoJSON2JSON(data);\n    type = 'geojson';\n  } else if (isTopoJSON(data)) {\n    res = topoJSON2JSON(data);\n    type = 'topojson';\n  } else if (data.length && data.columns) {\n    type = 'csv';\n    res = data;\n  } else if (data.length) {\n    type = 'json';\n    res = data;\n  }\n\n  res.columns = getColumns(res);\n  res.type = type;\n\n  return res;\n}\n\nexport function parseFile(file) {\n  const jsonData = parseJSON(file) || parseCsv(file);\n\n  if (!jsonData) {\n    // file is not json or csv\n    return false;\n  }\n\n  return {\n    data: unifyData(jsonData),\n    rawData: file\n  };\n}\n\nexport default {\n  parseFile,\n  getColumns,\n  unifyData\n};\n","import React, { PureComponent } from 'react';\nimport ReactTable from 'react-table';\nimport PropTypes from 'prop-types';\nimport Styled from 'styled-components';\n\nimport 'react-table/react-table.css';\n\nconst TableWrapper = Styled.div`\n  position: relative;\n  background: transparent;\n\n  .ReactTable {\n    font-family: ${props => props.theme.fonts.mono};\n    height: 200px;\n  }\n\n  .ReactTable .rt-tbody {\n    overflow: unset;\n  }\n\n  .ReactTable .rt-thead .rt-th, .ReactTable .rt-thead .rt-td,\n  .ReactTable .rt-thead.-header {\n    box-shadow: none;\n    border-bottom: 1px solid #eee;\n    font-family: ${props => props.theme.fonts.sans};\n    font-weight: 700;\n  }\n\n  .ReactTable .rt-noData {\n    font-family: ${props => props.theme.fonts.sans};\n    text-align: center;\n    color: ${props => props.theme.colors.black};\n    background: transparent;\n    font-weight: 700;\n  }\n`;\n\nclass DataTable extends PureComponent {\n  static propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object),\n    excludeFields: PropTypes.arrayOf(PropTypes.string)\n  }\n\n  static defaultProps = {\n    data: [],\n    excludeFields: []\n  }\n\n  render() {\n    const { data, excludeFields } = this.props;\n\n    const columns = (data.columns || [])\n      // don't show columns we created in the background, don't show excluded fields\n      .filter(col => col.indexOf('__' !== 0) && !excludeFields.find(fieldName => fieldName === col))\n      .map(col => ({\n        Header: col,\n        accessor: col,\n        Cell: row => JSON.stringify(row.value)\n      }));\n\n    return (\n      <TableWrapper>\n        <ReactTable\n          className=\"-striped\"\n          data={data}\n          columns={columns}\n          showPagination={false}\n          sortable={false}\n          minRows={0}\n          noDataText=\" Please upload a file to see the result.\"\n        />\n      </TableWrapper>\n    );\n  }\n}\n\nexport default DataTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst StyledSelect = styled.select`\n  cursor: pointer;\n  width: 200px;\n  padding: 0 .571em;\n  font-size: 14px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n  border-radius: 4px;\n  height: 35px;\n\n  &:disabled {\n    background: #eee;\n    color: #777;\n  }\n`;\n\nclass Select extends Component {\n  static propTypes = {\n    options: PropTypes.arrayOf(PropTypes.string),\n    onChange: PropTypes.func,\n    placeholder: PropTypes.string\n  }\n\n  static defaultProps = {\n    options: [],\n    onChange: () => {},\n    placeholder: 'Select...'\n  }\n\n  onChange(evt) {\n    this.props.onChange(evt.target.value);\n  }\n\n  render() {\n    return (\n      <StyledSelect\n        onChange={evt => this.onChange(evt)}\n        disabled={this.props.disabled}\n        value={this.props.value}\n      >\n        {this.props.options.length === 0 && <option value=\"default\" disabled>{this.props.placeholder}</option>}\n        {this.props.options.map(opt => (\n          <option value={opt} key={`Select__Option__${opt}`}>{opt}</option>\n        ))}\n      </StyledSelect>\n    );\n  }\n}\n\nexport default Select;\n","import Styled from 'styled-components';\n\nexport default Styled.button`\n  background: ${props => (props.disabled ? props.theme.colors.interactionInactive : props.theme.colors.interaction)};\n  padding: 8px 16px;\n  font-weight: 700;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n\n  &:hover {\n    opacity: 0.9;\n  }\n`;\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Checkbox = Styled.div`\n  margin-bottom: 8px;\n  margin-right: 16px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.sans};\n  display: flex;\n  align-items: center;\n  line-height: 1;\n\n  input {\n    margin-right: 8px;\n    display: block:\n  }\n`;\n\nconst CheckboxLabel = Styled.label`\n  display: block;\n`;\n\n\nexport default ({\n  checked, onChange, label, ...rest\n}) => (\n  <Checkbox {...rest}>\n    <input\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onChange}\n    />\n    <CheckboxLabel>{label}</CheckboxLabel>\n  </Checkbox>\n);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nconst Textarea = Styled.textarea`\n  width: 100%;\n  resize: none;\n  padding: 16px;\n  border: 1px solid #eee;\n  resize: vertical;\n  min-height: 150px;\n  height: 100%;\n`;\n\nconst CopyPasteWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  height: 200px;\n`;\n\nclass CopyPasteTarget extends PureComponent {\n  render() {\n    return (\n      <CopyPasteWrapper>\n        <Textarea\n          placeholder={this.props.placeholder}\n          onChange={this.props.onChange}\n        />\n      </CopyPasteWrapper>\n    );\n  }\n}\n\nexport default CopyPasteTarget;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Styled from 'styled-components';\nimport {\n  Tab,\n  Tabs,\n  TabList,\n  TabPanel\n} from 'react-tabs';\nimport ReactDropzone from 'react-dropzone';\n\nimport FileIcon from 'react-feather/dist/icons/file';\nimport CloseIcon from 'react-feather/dist/icons/x';\n\nimport { parseFile } from '~/utils';\nimport CopyPasteTarget from './CopyPasteTarget';\n\nconst StyledTabs = Styled(Tabs)`\n  opacity: ${props => (props.isActive ? 1 : 0.25)};\n  pointer-events: ${props => (props.isActive ? 'default' : 'none')};\n`;\n\nconst TabContainer = Styled(TabList)`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n\n  > .react-tabs__tab {\n    padding: 8px 16px;\n    background: transparent;\n    cursor: pointer;\n    font-weight: 700;\n\n    &:hover, &--selected {\n      background: ${props => props.theme.colors.section};\n    }\n  }\n`;\n\nconst Dropzone = Styled(ReactDropzone)`\n  width: 100%;\n  height: 200px;\n  border-radius: 5px;\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n`;\n\nconst FileWrapper = Styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  padding: 16px;\n  width: 200px;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n  border-radius: 4px;\n  position: relative;\n`;\n\nconst CloseIconWrapper = Styled.div`\n  position: absolute;\n  right: -10px;\n  top: -10px;\n  background: ${props => props.theme.colors.interaction};\n  border-radius: 50%;\n  padding: 5px;\n  display: flex;\n  jusitfy-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n\nconst FileName = Styled.div`\n  font-size: 14px;\n  margin-top: 10px;\n`;\n\nclass FileHandler extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    isActive: PropTypes.bool,\n    dropText: PropTypes.string,\n    textareaPlaceholder: PropTypes.string\n  }\n\n  static defaultProps = {\n    onChange: () => {},\n    onError: () => {},\n    isActive: true,\n    dropText: 'Drop file here',\n    textareaPlaceholder: 'Paste data here'\n  }\n\n  onDrop(acceptedFiles) {\n    if (!acceptedFiles.length) {\n      return this.props.onError();\n    }\n\n    this.readFile(acceptedFiles[0]);\n  }\n\n  onPaste(evt) {\n    const content = evt.target.value;\n    const result = parseFile(content);\n\n    if (result) {\n      this.props.onChange({\n        ...result,\n        fileName: '',\n        type: 'copy-paste'\n      });\n    }\n  }\n\n  onDeleteFile(evt) {\n    evt.preventDefault();\n    this.props.onChange(null);\n  }\n\n  readFile(file) {\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      const content = reader.result;\n      const result = parseFile(content);\n\n      if (result) {\n        this.props.onChange({\n          ...result,\n          fileName: file.name,\n          type: file.type\n        });\n      }\n    };\n\n    reader.readAsText(file);\n  }\n\n  renderFile() {\n    if (!this.props.fileName) {\n      return this.props.dropText;\n    }\n\n    return (\n      <FileWrapper>\n        <CloseIconWrapper onClick={evt => this.onDeleteFile(evt)}>\n          <CloseIcon size={20} />\n        </CloseIconWrapper>\n        <FileIcon size={48} />\n        <FileName>{this.props.fileName}</FileName>\n      </FileWrapper>\n    );\n  }\n\n  render() {\n    return (\n      <StyledTabs isActive={this.props.isActive}>\n        <TabContainer>\n          <Tab>Upload File</Tab>\n          <Tab>Copy & Paste</Tab>\n        </TabContainer>\n        <TabPanel>\n          <Dropzone\n            accept={['.geojson', '.csv', '.json', '.topojson']}\n            onDrop={acceptedFiles => this.onDrop(acceptedFiles)}\n            multiple={false}\n          >\n            {this.renderFile()}\n          </Dropzone>\n        </TabPanel>\n        <TabPanel>\n          <CopyPasteTarget\n            onChange={evt => this.onPaste(evt)}\n            placeholder={this.props.textareaPlaceholder}\n          />\n        </TabPanel>\n      </StyledTabs>\n    );\n  }\n}\n\nexport default FileHandler;\n"],"sourceRoot":""}