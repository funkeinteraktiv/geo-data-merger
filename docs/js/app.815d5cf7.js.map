{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/widgets/FileChooserWidget/index.js","webpack:///./public/images/swap.svg","webpack:///./src/components/ButtonLight/index.js","webpack:///./src/components/ErrorMessage/index.js","webpack:///./src/widgets/KeySelectWidget/index.js","webpack:///./src/widgets/ResultWidget/index.js","webpack:///./src/widgets/FieldSelectWidget/index.js","webpack:///./src/widgets/DownloadWidget/index.js","webpack:///./public/images/logo_big.png","webpack:///./src/state/Store.js","webpack:///./src/components/Headline/index.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Header/index.js","webpack:///./src/pages/App/index.js","webpack:///./src/styles/Global.js","webpack:///./src/index.js","webpack:///./src/styles/theme.js","webpack:///./src/components/Widget/index.js","webpack:///./src/components/FileSection/index.js","webpack:///./src/state/Actions.js","webpack:///./src/state/Selectors.js","webpack:///./src/utils/export-utils.js","webpack:///./src/utils/index.js","webpack:///./src/components/FileSectionWrapper/index.js","webpack:///./src/utils/import-utils.js","webpack:///./src/components/DataTable/index.js","webpack:///./src/components/Select/index.js","webpack:///./src/components/Button/index.js","webpack:///./src/components/Checkbox/index.js","webpack:///./src/styles/Utils.js","webpack:///./src/components/FileHandler/CopyPasteTarget.js","webpack:///./src/components/FileHandler/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ButtonWrapper","Styled","div","withConfig","componentId","props","isVisible","renderError","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_components_ErrorMessage__WEBPACK_IMPORTED_MODULE_18__","FileChooserWidget","PureComponent","fileType","_this","this","_components_Checkbox__WEBPACK_IMPORTED_MODULE_19__","style","marginTop","checked","concat","onChange","toggleFirstRowHeader","label","_this2","_this$props","baseData","baseFileName","baseDataError","baseFileType","mergeData","mergeFileName","mergeDataError","mergeFileType","hasBaseData","hasMergeData","_components_Widget__WEBPACK_IMPORTED_MODULE_14__","step","title","config","sections","subtitle","_components_FileSectionWrapper__WEBPACK_IMPORTED_MODULE_16__","_components_FileSection__WEBPACK_IMPORTED_MODULE_17__","_components_FileHandler__WEBPACK_IMPORTED_MODULE_12__","setBaseData","onError","setError","fileName","dropText","textareaPlaceholder","setMergeData","isActive","textAlign","_components_ButtonLight__WEBPACK_IMPORTED_MODULE_15__","onClick","swapData","_public_images_swap_svg__WEBPACK_IMPORTED_MODULE_10__","width","height","includes","renderCsvOptions","_components_DataTable__WEBPACK_IMPORTED_MODULE_13__","marginLeft","connect","state","baseFirstRowHeader","mergeFirstRowHeader","Actions","__webpack_exports__","_ref","_ref$styles","styles","obj","keys","target","indexOf","_objectWithoutProperties","react__WEBPACK_IMPORTED_MODULE_2___default","_extends","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","styled_components__WEBPACK_IMPORTED_MODULE_0__","_components_Button__WEBPACK_IMPORTED_MODULE_1__","Button","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","styled_components__WEBPACK_IMPORTED_MODULE_1__","Wrapper","theme","colors","warning","Inner","Title","children","SelectWrapper","section","KeySelectWidget","baseKey","mergeKey","baseKeys","idx","_","columns","mergeKeys","react__WEBPACK_IMPORTED_MODULE_5___default","_components_Widget__WEBPACK_IMPORTED_MODULE_11__","_components_FileSectionWrapper__WEBPACK_IMPORTED_MODULE_12__","_components_FileSection__WEBPACK_IMPORTED_MODULE_13__","_components_Select__WEBPACK_IMPORTED_MODULE_10__","options","setBaseKey","placeholder","disabled","setMergeKey","ResultWidget","Component","_components_Widget__WEBPACK_IMPORTED_MODULE_9__","_components_DataTable__WEBPACK_IMPORTED_MODULE_8__","resultData","excludeFields","mergedDataSelector","CheckboxWrapper","FieldSelectWidget","mergedData","map","columnName","_components_Checkbox__WEBPACK_IMPORTED_MODULE_13__","toggleExcludeField","hasData","_components_Widget__WEBPACK_IMPORTED_MODULE_12__","renderCheckboxes","DownloadWrapper","DownloadInteraction","media","_templateObject","DownloadButton","_templateObject2","DownloadWidget","setDownloadFormat","downloadFormat","baseIsGeo","isDisabled","formats","downloadFormats","filter","react__WEBPACK_IMPORTED_MODULE_10___default","_components_Widget__WEBPACK_IMPORTED_MODULE_17__","_components_Select__WEBPACK_IMPORTED_MODULE_18__","downloadFile","isBaseDataGeo","Store","createStore","Headline","h1","Bold","span","Subtitle","fonts","mono","components_Headline","react_default","react","FooterWrapper","darkBackground","FooterInner","Footer","href","HeaderWrapper","header","Logo","img","Header","src","logoSrc","alt","AppWrapper","App","components_Header","components_Footer","createGlobalStyle","styledNormalize","background","root","document","ReactDOM","render","unistore_react","store","styled_components_browser_esm","black","interaction","interactionInactive","darkgray","sans","Global","pages_App","body","appendChild","Widget","WidgetTitleWrapper","Step","h2","_ref$isActive","FileSection","defaultProps","fileData","_objectSpread","setData","type","isDelete","_defineProperty","rawData","getState","setTimeout","setState","mergeRawData","baseRawData","fieldName","index","_ref3","isFirstRowHeader","parseCsv","getColumns","baseDataSelector","mergeDataMapSelector","createSelector","mergeDataMap","res","addData","assign","removePropsFromObject","arguments","undefined","reduce","prev","curr","stringifyJSON","JSON","stringify","JSON2GeoJSON","features","properties","geometry","__geometry","id","__id","feature","featureCollection","filetype","dataClean","cleanData","downloadData","formatGeoJSON","geoJSON","topology","formatTopoJSON","formatJSON","csvFormat","formatCsv","dataBlob","Blob","saveAs","import_utils","FileSectionWrapper","guessDelimiter","file","defaultDelimiters","find","delim","rxp","str","replace","regexEscape","RegExp","getDelimiterRxp","test","delimiter","formattedCsv","D3Dsv","parse","parseRows","row","item","e","geoJSON2JSON","feat","_toConsumableArray","Set","col","unifyData","getType","isGeoJSON","isTopoJSON","topoJSON","objectName","objects","TopoJSON","topoJSON2JSON","parseFile","jsonData","parseJSON","TableWrapper","DataTable","accessor","Cell","react__WEBPACK_IMPORTED_MODULE_9___default","react_table__WEBPACK_IMPORTED_MODULE_10__","showPagination","sortable","minRows","noDataText","PropTypes","arrayOf","string","StyledSelect","styled","select","Select","evt","react__WEBPACK_IMPORTED_MODULE_6___default","opt","func","button","Checkbox","CheckboxLabel","rest","react__WEBPACK_IMPORTED_MODULE_4___default","getMediaQuery","size","css","breakpoints","Textarea","textarea","CopyPasteWrapper","CopyPasteTarget","StyledTabs","Tabs","TabContainer","TabList","Dropzone","ReactDropzone","FileWrapper","CloseIconWrapper","FileName","FileHandler","acceptedFiles","readFile","content","preventDefault","reader","FileReader","onload","readAsText","onDeleteFile","x_default","file_default","_this3","esm","accept","onDrop","multiple","renderFile","FileHandler_CopyPasteTarget","onPaste","bool"],"mappings":"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","file":"js/app.815d5cf7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([173,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport Styled from 'styled-components';\n\nimport SwapIcon from '../../../public/images/swap.svg';\nimport Actions from '~/state/Actions';\nimport FileHandler from '~/components/FileHandler';\nimport DataTable from '~/components/DataTable';\nimport Widget from '~/components/Widget';\nimport ButtonLight from '~/components/ButtonLight';\nimport FileSectionWrapper from '~/components/FileSectionWrapper';\nimport FileSection from '~/components/FileSection';\nimport ErrorMessage from '~/components/ErrorMessage';\nimport Checkbox from '~/components/Checkbox';\n\nconst ButtonWrapper = Styled.div`\n  display: ${props => (props.isVisible ? 'block' : 'none')};\n  width: 8%;\n\n  button {\n    width: 100%;\n  }\n`;\n\nconst step = 0;\n\nfunction renderError() {\n  return (\n    <ErrorMessage>\n      Please check if your data is valid json, csv, geojson or topojson.\n    </ErrorMessage>\n  );\n}\n\nclass FileChooserWidget extends PureComponent {\n  renderCsvOptions(fileType) {\n    return (\n      <Checkbox\n        style={{ marginTop: '8px' }}\n        checked={this.props[`${fileType}FirstRowHeader`]}\n        onChange={() => this.props.toggleFirstRowHeader(fileType)}\n        label=\"First row is header\"\n      />\n    );\n  }\n\n  render() {\n    const {\n      baseData, baseFileName, baseDataError, baseFileType,\n      mergeData, mergeFileName, mergeDataError, mergeFileType\n    } = this.props;\n    const hasBaseData = !!baseData.length;\n    const hasMergeData = !!mergeData.length;\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n      >\n        <FileSectionWrapper>\n          <FileSection>\n            <FileHandler\n              onChange={this.props.setBaseData}\n              onError={() => this.props.setError('base')}\n              fileName={baseFileName}\n              dropText=\"Drop base file here\"\n              textareaPlaceholder=\"Paste base data here ...\"\n            />\n            {baseDataError && renderError()}\n          </FileSection>\n          <FileSection>\n            <FileHandler\n              onChange={this.props.setMergeData}\n              onError={() => this.props.setError('merge')}\n              fileName={mergeFileName}\n              dropText=\"Drop merge file here\"\n              textareaPlaceholder=\"Paste merge data here ...\"\n              isActive={hasBaseData}\n            />\n            {mergeDataError && renderError()}\n          </FileSection>\n        </FileSectionWrapper>\n\n        <FileSectionWrapper>\n          <FileSection style={{ textAlign: 'center' }}>\n            File 1\n          </FileSection>\n          <ButtonWrapper isVisible={(hasBaseData && hasMergeData)}>\n            <ButtonLight onClick={this.props.swapData}>\n              <SwapIcon style={{ width: '16px', height: '16px' }} />\n            </ButtonLight>\n          </ButtonWrapper>\n          <FileSection style={{ textAlign: 'center' }}>\n            File 2\n          </FileSection>\n        </FileSectionWrapper>\n\n        <FileSectionWrapper isVisible={(hasBaseData || hasMergeData)}>\n          <FileSection isVisible={hasBaseData}>\n            {baseFileType.includes('csv') && this.renderCsvOptions('base')}\n            <DataTable data={this.props.baseData} />\n          </FileSection>\n          <FileSection isVisible={hasMergeData} style={{ marginLeft: 'auto' }}>\n            {mergeFileType.includes('csv') && this.renderCsvOptions('merge')}\n            <DataTable data={this.props.mergeData} />\n          </FileSection>\n        </FileSectionWrapper>\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  baseFileName: state.baseFileName,\n  baseFileType: state.baseFileType,\n  baseDataError: state.baseDataError,\n  baseFirstRowHeader: state.baseFirstRowHeader,\n  mergeData: state.mergeData,\n  mergeFileName: state.mergeFileName,\n  mergeDataError: state.mergeDataError,\n  mergeFileType: state.mergeFileType,\n  mergeFirstRowHeader: state.mergeFirstRowHeader\n}), Actions)(FileChooserWidget);\n","function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from \"react\";\nexport default ((_ref) => {\n  let {\n    styles = {}\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"styles\"]);\n\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={(styles[\"feather\"] || \"feather\") + \" \" + (styles[\"feather-repeat\"] || \"feather-repeat\")} {...props}><path d=\"M17 1l4 4-4 4\" /><path d=\"M3 11V9a4 4 0 0 1 4-4h14M7 23l-4-4 4-4\" /><path d=\"M21 13v2a4 4 0 0 1-4 4H3\" /></svg>;\n});","import Styled from 'styled-components';\nimport Button from '~/components/Button';\n\nexport default Styled(Button)`\n  background: white;\n`;\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Wrapper = Styled.div`\n  background: ${props => props.theme.colors.warning};\n  padding: 12px;\n  color: white;\n  border-radius: 4px;\n  margin-top: 8px;\n  display: flex\n`;\n\nconst Inner = Styled.div`\n  margin-left: 10px;\n`;\n\nconst Title = Styled.div`\n  font-weight: 700;\n  margin-bottom: 5px;\n`;\n\nexport default props => (\n  <Wrapper>\n    <Inner>\n      <Title>An Error occured.</Title>\n      {props.children}\n    </Inner>\n  </Wrapper>\n);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport idx from 'idx';\nimport Styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\n\nimport Select from '~/components/Select';\nimport Widget from '~/components/Widget';\nimport FileSectionWrapper from '~/components/FileSectionWrapper';\nimport FileSection from '~/components/FileSection';\n\nconst SelectWrapper = Styled.div`\n  display: flex;\n  justify-content: center;\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n`;\n\nconst step = 1;\n\nclass KeySelectWidget extends PureComponent {\n  render() {\n    const {\n      baseData, mergeData, baseKey, mergeKey\n    } = this.props;\n    const baseKeys = idx(baseData, _ => _.columns) || [];\n    const mergeKeys = idx(mergeData, _ => _.columns) || [];\n    const isActive = baseData.length > 0;\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={isActive}\n      >\n        <FileSectionWrapper>\n          <FileSection>\n            <SelectWrapper>\n              <Select\n                options={baseKeys}\n                onChange={this.props.setBaseKey}\n                placeholder=\"Select key...\"\n                disabled={!isActive}\n                value={baseKey || 'default'}\n              />\n            </SelectWrapper>\n          </FileSection>\n          <FileSection>\n            <SelectWrapper>\n              <Select\n                options={mergeKeys}\n                onChange={this.props.setMergeKey}\n                placeholder=\"Select key...\"\n                disabled={mergeData.length === 0}\n                value={mergeKey || 'default'}\n              />\n            </SelectWrapper>\n          </FileSection>\n        </FileSectionWrapper>\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  mergeData: state.mergeData,\n  baseKey: state.baseKey,\n  mergeKey: state.mergeKey\n}), Actions)(KeySelectWidget);\n","import React, { Component } from 'react';\nimport { connect } from 'unistore/react';\n\nimport { mergedDataSelector } from '~/state/Selectors';\n\nimport DataTable from '~/components/DataTable';\nimport Widget from '~/components/Widget';\n\nconst step = 2;\n\nclass ResultWidget extends Component {\n  render() {\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={this.props.baseData.length > 0}\n      >\n        <DataTable data={this.props.resultData} excludeFields={this.props.excludeFields} />\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  resultData: mergedDataSelector(state),\n  baseData: state.baseData,\n  excludeFields: state.excludeFields\n}))(ResultWidget);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport Styled from 'styled-components';\n\nimport { mergedDataSelector } from '~/state/Selectors';\nimport Actions from '~/state/Actions';\nimport Widget from '~/components/Widget';\nimport Checkbox from '~/components/Checkbox';\n\nconst step = 3;\n\nconst CheckboxWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nclass FieldSelectWidget extends PureComponent {\n  renderCheckboxes() {\n    return (\n      <CheckboxWrapper>\n        {this.props.mergedData.columns.map(columnName => (\n          <Checkbox\n            key={`FieldSelect__${columnName}`}\n            checked={this.props.excludeFields.indexOf(columnName) === -1}\n            onChange={() => this.props.toggleExcludeField(columnName)}\n            label={columnName}\n          />\n        ))}\n      </CheckboxWrapper>\n    );\n  }\n\n  render() {\n    const hasData = !!this.props.mergedData.length;\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={this.props.baseData.length > 0}\n      >\n        {hasData ? this.renderCheckboxes() : 'No data merged yet.'}\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  mergedData: mergedDataSelector(state),\n  baseData: state.baseData,\n  excludeFields: state.excludeFields\n}), Actions)(FieldSelectWidget);\n","import React, { Component } from 'react';\nimport Styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { mergedDataSelector, isBaseDataGeo } from '~/state/Selectors';\nimport { downloadFile } from '~/utils';\nimport { media } from '~/styles/Utils';\n\nimport Actions from '~/state/Actions';\n\nimport Widget from '~/components/Widget';\nimport Select from '~/components/Select';\nimport Button from '~/components/Button';\n\nconst DownloadWrapper = Styled.div`\n  display: flex;\n  padding: 16px;\n  background: ${props => props.theme.colors.section};\n`;\n\nconst DownloadInteraction = Styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n\n  ${media.m`\n    justify-content: center;\n    flex-direction: row;\n  `}\n`;\n\nconst DownloadButton = Styled(Button)`\n  width: 200px;\n  margin-top: 10px;\n\n  ${media.m`\n    margin-left: 20px;\n    margin-top: 0;\n  `}\n`;\n\nconst step = 4;\n\nclass DownloadWidget extends Component {\n  render() {\n    const {\n      baseData,\n      setDownloadFormat,\n      mergedData,\n      downloadFormat,\n      excludeFields,\n      baseIsGeo\n    } = this.props;\n\n    const isDisabled = baseData.length === 0;\n    const formats = baseIsGeo ?\n      config.downloadFormats :\n      config.downloadFormats.filter(d => !['geojson', 'topojson'].includes(d));\n\n    return (\n      <Widget\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={baseData.length > 0}\n      >\n        <DownloadWrapper>\n          <DownloadInteraction>\n            <Select\n              options={isDisabled ? [] : formats}\n              placeholder=\"Select format...\"\n              onChange={setDownloadFormat}\n              disabled={isDisabled}\n              value={downloadFormat || 'default'}\n            />\n            <DownloadButton\n              disabled={!mergedData || !mergedData.length}\n              onClick={() => downloadFile(mergedData, downloadFormat, excludeFields)}\n            >\n              Download\n            </DownloadButton>\n          </DownloadInteraction>\n        </DownloadWrapper>\n      </Widget>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  mergedData: mergedDataSelector(state),\n  downloadFormat: state.downloadFormat,\n  excludeFields: state.excludeFields,\n  baseIsGeo: isBaseDataGeo(state)\n}), Actions)(DownloadWidget);\n","module.exports = __webpack_public_path__ + \"public/images/logo_big.png\";","import createStore from 'unistore';\n\nconst Store = createStore({\n  baseData: [],\n  mergeData: [],\n  baseKey: null,\n  mergeKey: null,\n  baseDataError: null,\n  mergeDataError: null,\n  baseFileType: '',\n  mergeFileType: '',\n  baseFirstRowHeader: true,\n  mergeFirstRowHeader: true,\n  downloadFormat: null,\n  excludeFields: []\n});\n\nexport default Store;\n","import React, { Fragment } from 'react';\nimport Styled from 'styled-components';\n\nconst Headline = Styled.div`\n  text-align: center;\n  margin-bottom: 50px;\n  `;\n\n\nconst Title = Styled.h1`\n  margin: 0;\n  font-weight: 400;\n  font-size: 60px;\n`;\n\nconst Bold = Styled.span`\n  font-weight: 900;\n`;\n\nconst Subtitle = Styled.div`\n  margin: 10px 0 20px 0;\n  font-family: ${props => props.theme.fonts.mono};\n`;\n\nexport default () => (\n  <Fragment>\n    <Headline>\n      <Title>(Geo) <Bold>DataMerger</Bold></Title>\n      <Subtitle>A small tool for merging different Datasets together.</Subtitle>\n    </Headline>\n  </Fragment>\n);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nconst FooterWrapper = Styled.div`\n  background: ${props => props.theme.colors.darkBackground};\n  padding: 32px 0;\n  color: white;\n`;\n\nconst FooterInner = Styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 0 16px;\n\n  a {\n    color: white;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nclass Footer extends PureComponent {\n  render() {\n    return (\n      <FooterWrapper>\n        <FooterInner>\n          <a href=\"https://github.com/funkeinteraktiv\">Imprint / Privacy</a>\n        </FooterInner>\n      </FooterWrapper>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nimport logoSrc from '../../../public/images/logo_big.png';\n\nconst HeaderWrapper = Styled.header`\n  padding: 8px 16px;\n`;\n\nconst Logo = Styled.img`\n  max-width: 100px;\n`;\n\nclass Header extends PureComponent {\n  render() {\n    return (\n      <HeaderWrapper>\n        <Logo src={logoSrc} alt=\"Funke Logo\" />\n      </HeaderWrapper>\n    );\n  }\n}\n\nexport default Header;\n","import React, { PureComponent, Fragment } from 'react';\nimport Styled from 'styled-components';\n\nimport Headline from '~/components/Headline';\nimport FileChooserWidget from '~/widgets/FileChooserWidget';\nimport KeySelectWidget from '~/widgets/KeySelectWidget';\nimport ResultWidget from '~/widgets/ResultWidget';\nimport FieldSelectWidget from '~/widgets/FieldSelectWidget';\nimport DownloadWidget from '~/widgets/DownloadWidget';\nimport Footer from '~/components/Footer';\nimport Header from '~/components/Header';\n\nconst AppWrapper = Styled.div`\n  margin: 0 auto;\n  max-width: 960px;\n  padding: 32px 16px;\n`;\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <Fragment>\n        <Header />\n        <AppWrapper>\n          <Headline />\n          <FileChooserWidget />\n          <KeySelectWidget />\n          <ResultWidget />\n          <FieldSelectWidget />\n          <DownloadWidget />\n        </AppWrapper>\n        <Footer />\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import styledNormalize from 'styled-normalize';\nimport { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:400,700,900');\n\n  ${styledNormalize}\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    position: relative;\n    font-family: 'Roboto', sans-serif;\n    background: ${props => props.theme.colors.background};\n    color: ${props => props.theme.colors.darkBackground};\n  }\n`;\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'unistore/react';\nimport { ThemeProvider } from 'styled-components';\n\nimport Store from '~/state/Store';\nimport App from '~/pages/App';\nimport GlobalStyles from '~/styles/Global';\nimport theme from '~/styles/theme';\n\nconst root = document.createElement('div');\n\nReactDOM.render(\n  <Provider store={Store}>\n    <ThemeProvider theme={theme}>\n      <Fragment>\n        <GlobalStyles />\n        <App />\n      </Fragment>\n    </ThemeProvider>\n  </Provider>,\n  root\n);\n\ndocument.body.appendChild(root);\n","export default {\n  colors: {\n    black: '#222',\n    // background: '#FFFCEA',\n    background: '#FFFFFF',\n    // section: '#EDE7D3',\n    section: '#EEEEEE',\n    // interaction: '#FFAE55',\n    interaction: '#5AFF78',\n    interactionInactive: '#ddd',\n    darkgray: '#888',\n    darkBackground: '#3D3D3D',\n    warning: '#dd8080'\n  },\n  fonts: {\n    sans: 'Roboto, sans-serif',\n    mono: 'Roboto Mono, monospace'\n  }\n};\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Widget = Styled.div`\n  margin: 32px 0 16px 0;\n  padding: 15px 0;\n  border-top: 3px solid ${props => props.theme.colors.darkBackground};\n`;\n\nconst WidgetTitleWrapper = Styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  opacity: ${props => (props.isActive ? 1 : 0.5)};\n`;\n\nconst Step = Styled.div`\n  background: ${props => (props.isActive ? props.theme.colors.interaction : props.theme.colors.interactionInactive)};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  line-height: 1;\n  margin-right: 16px;\n  border-radius: 50%;\n  font-weight: 700;\n`;\n\nconst Title = Styled.h2`\n  margin: 0;\n  font-size: 20px;\n`;\n\nconst Subtitle = Styled.div`\n  margin: 0 0 16px 0;\n  color: ${props => props.theme.colors.darkgray};\n  font-family: ${props => props.theme.fonts.mono};\n  font-size: 14px;\n`;\n\nexport default ({\n  title, subtitle, step, children, isActive = true\n}) => (\n  <Widget>\n    <WidgetTitleWrapper isActive={isActive}>\n      <Step isActive={isActive}>{step + 1}</Step>\n      <Title isActive={isActive}>{title}</Title>\n    </WidgetTitleWrapper>\n    <Subtitle>{subtitle}</Subtitle>\n    {children}\n  </Widget>\n);\n","import Styled from 'styled-components';\n\nconst FileSection = Styled.div`\n  display: ${props => (props.isVisible ? 'block' : 'none')};\n  width: 46%;\n`;\n\nFileSection.defaultProps = {\n  isVisible: true\n};\n\nexport default FileSection;\n","/* eslint-disable */\nimport { parseCsv, getColumns } from '~/utils/import-utils';\n\nconst setBaseData = store => (state, fileData) => {\n  const data = setData('base', store, fileData);\n  const isDelete = fileData === null;\n\n  return {\n    ...data,\n    downloadFormat: isDelete ? null : fileData.data.type,\n  };\n}\n\nconst setMergeData = store => (state, fileData) => {\n  const data = setData('merge', store, fileData);\n\n  return data;\n}\n\n// helper function used by setBaseData and setMergeData actions\nconst setData = (key, store, fileData) => {\n  const isDelete = fileData === null;\n  const isValid = !isDelete && fileData.data && fileData.data.type;\n\n  if (!isValid && !isDelete) {\n    return setError(store)(store.getState(), key);\n  }\n\n  return {\n    [`${key}RawData`]: isDelete ? [] : fileData.rawData,\n    [`${key}Data`]: isDelete ? [] : fileData.data,\n    [`${key}Key`]: isDelete ? '' : fileData.data.columns[0],\n    [`${key}FileName`]: isDelete ? '' : fileData.fileName,\n    [`${key}FileType`]: isDelete ? '' : fileData.type\n  };\n}\n\nconst setError = store => (state, key) => {\n  window.setTimeout(() => {\n    store.setState({ [`${key}DataError`]: null })\n  }, 4500);\n\n  return {\n    [`${key}DataError`]: true\n  };\n}\n\nconst setBaseKey = (state, key) => {\n  return { baseKey: key };\n}\n\nconst setMergeKey = (state, key) => {\n  return { mergeKey: key };\n}\n\nconst setDownloadFormat = (state, downloadFormat) => {\n  return { downloadFormat };\n}\n\nconst swapData = (state) => {\n  return {\n    mergeData: state.baseData,\n    baseData: state.mergeData,\n    mergeRawData: state.baseRawData,\n    baseRawData: state.mergeRawData,\n    mergeKey: state.baseKey,\n    baseKey: state.mergeKey,\n    mergeFileName: state.baseFileName,\n    baseFileName: state.mergeFileName,\n    mergeFileType: state.baseFileType,\n    baseFileType: state.mergeFileType,\n  };\n}\n\nconst toggleExcludeField = (state, fieldName) => {\n  const index = state.excludeFields.indexOf(fieldName)\n\n  if (index === -1) {\n    return {\n      excludeFields: state.excludeFields.concat([fieldName])\n    };\n  }\n  return {\n    excludeFields: state.excludeFields.filter((d, i) => i !== index)\n  };\n}\n\nconst toggleFirstRowHeader = (state, fileType) => {\n  const isFirstRowHeader = !state[`${fileType}FirstRowHeader`];\n  const data = parseCsv(state[`${fileType}RawData`], isFirstRowHeader);\n\n  data.columns = getColumns(data);\n\n  return {\n    [`${fileType}Data`]: data,\n    [`${fileType}FirstRowHeader`]: isFirstRowHeader\n  };\n}\n\nexport default store => ({\n  setBaseData: setBaseData(store),\n  setMergeData: setMergeData(store),\n  setError: setError(store),\n  setBaseKey,\n  setMergeKey,\n  setDownloadFormat,\n  swapData,\n  toggleExcludeField,\n  toggleFirstRowHeader\n});\n","import { createSelector } from 'reselect';\nimport { map } from 'd3-collection';\nimport { getColumns } from '~/utils';\n\nconst baseDataSelector = state => state.baseData;\nconst mergeDataSelector = state => state.mergeData;\nconst baseKeySelector = state => state.baseKey;\nconst mergeKeySelector = state => state.mergeKey;\n\nconst mergeDataMapSelector = createSelector(\n  [mergeDataSelector, mergeKeySelector],\n  (mergeData, mergeKey) => {\n    if (!mergeData || !mergeKey) {\n      return map([], d => d);\n    }\n\n    return map(mergeData, d => d[mergeKey]);\n  }\n);\n\nexport const mergedDataSelector = createSelector(\n  [baseDataSelector, baseKeySelector, mergeDataMapSelector],\n  (baseData, baseKey, mergeDataMap) => {\n    let res = [];\n\n    if (baseData) {\n      res = baseData.map((d) => {\n        const key = d[baseKey];\n        const addData = mergeDataMap.get(key);\n        return Object.assign({}, d, addData);\n      });\n    }\n\n    res.columns = getColumns(res);\n\n    return res;\n  }\n);\n\nexport const isBaseDataGeo = createSelector(\n  [baseDataSelector],\n  baseData => ['geojson', 'topojson'].includes(baseData.type)\n);\n\nexport default {\n  mergedDataSelector,\n  isBaseDataGeo\n};\n","import { saveAs } from 'file-saver';\nimport { feature, featureCollection } from '@turf/helpers';\nimport { topology } from 'topojson';\nimport { csvFormat } from 'd3-dsv';\n\nexport function removePropsFromObject(obj, props = []) {\n  return Object.keys(obj).reduce((prev, curr) => {\n    if (props.indexOf(curr) === -1) {\n      prev[curr] = obj[curr]; // eslint-disable-line\n    }\n\n    return prev;\n  }, {});\n}\n\nexport function stringifyJSON(data) {\n  return JSON.stringify(data);\n}\n\nexport function formatJSON(data) {\n  const res = data.map(d => removePropsFromObject(d, ['__geometry', '__id']));\n  return stringifyJSON(res);\n}\n\nexport function JSON2GeoJSON(data) {\n  const features = data.map((properties) => {\n    const geometry = properties.__geometry;\n    const options = { id: properties.__id };\n    const props = removePropsFromObject(properties, ['__geometry', '__id']);\n\n    return feature(geometry, props, options);\n  });\n\n  return featureCollection(features);\n}\n\nexport function formatGeoJSON(data) {\n  const geoJSON = JSON2GeoJSON(data);\n  return stringifyJSON(geoJSON);\n}\n\nexport function formatTopoJSON(data) {\n  const geoJSON = JSON2GeoJSON(data);\n  const topoJSON = topology({ data: geoJSON });\n  return stringifyJSON(topoJSON);\n}\n\nexport function formatCsv(data) {\n  const res = data.map(d => removePropsFromObject(d, ['__geometry', '__id']));\n  return csvFormat(res);\n}\n\nexport function cleanData(data, options = {}) {\n  let res = data;\n\n  if (options.excludeFields) {\n    res = res.map(d => removePropsFromObject(d, options.excludeFields));\n  }\n\n  return res;\n}\n\nexport function downloadFile(data, filetype, excludeFields = []) {\n  const dataClean = cleanData(data, {\n    excludeFields\n  });\n\n  let downloadData = null;\n\n  if (filetype === 'geojson') {\n    downloadData = {\n      data: formatGeoJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.geojson'\n    };\n  }\n\n  if (filetype === 'topojson') {\n    downloadData = {\n      data: formatTopoJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.topo.json'\n    };\n  }\n\n  if (filetype === 'json') {\n    downloadData = {\n      data: formatJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.json'\n    };\n  }\n\n  if (filetype === 'csv') {\n    downloadData = {\n      data: formatCsv(dataClean),\n      type: 'text/csv;charset=utf-8',\n      name: 'output.csv'\n    };\n  }\n\n  if (downloadData) {\n    const dataBlob = new Blob([downloadData.data], { type: downloadData.type });\n    saveAs(dataBlob, downloadData.name);\n  }\n}\n\nexport default {\n  downloadFile\n};\n","export * from './import-utils';\nexport * from './export-utils';\n","import Styled from 'styled-components';\n\nconst FileSectionWrapper = Styled.div`\n  display: ${props => (props.isVisible ? 'flex' : 'none')};\n  justify-content: space-between;\n  padding: 10px 0;\n`;\n\nFileSectionWrapper.defaultProps = {\n  isVisible: true\n};\n\nexport default FileSectionWrapper;\n","import * as D3Dsv from 'd3-dsv';\nimport * as TopoJSON from 'topojson';\nimport { getType } from '@turf/invariant';\n\nfunction regexEscape(str) {\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\n\nfunction getDelimiterRxp(delim) {\n  const rxp = `^[^\\\\n\\\\r]+${regexEscape(delim)}`;\n  return new RegExp(rxp);\n}\n\nexport function guessDelimiter(file) {\n  return config.defaultDelimiters.find((delim) => {\n    const rxp = getDelimiterRxp(delim);\n    return rxp.test(file);\n  }) || ',';\n}\n\nexport function parseCsv(file, isFirstRowHeader = true) {\n  let res = false;\n\n  try {\n    const delimiter = guessDelimiter(file);\n    const formattedCsv = D3Dsv.dsvFormat(delimiter);\n\n    if (isFirstRowHeader) {\n      res = formattedCsv.parse(file);\n    } else {\n      res = formattedCsv.parseRows(file, d => d.reduce((row, item, i) => {\n        row[`column_${i + 1}`] = item;\n        return row;\n      }, {}));\n    }\n  } catch (e) {\n    res = false;\n  }\n  return res;\n}\n\nexport function parseJSON(file) {\n  let res = false;\n\n  try {\n    res = JSON.parse(file);\n  } catch (e) {\n    res = false;\n  }\n  return res;\n}\n\nexport function isGeoJSON(data) {\n  const type = getType(data);\n  return type === 'FeatureCollection';\n}\n\nexport function isTopoJSON(data) {\n  const type = getType(data);\n  return type === 'Topology';\n}\n\nexport function geoJSON2JSON(geoJSON) {\n  return geoJSON.features.map(feat => Object.assign({}, {\n    ...feat.properties,\n    __geometry: feat.geometry,\n    __id: feat.id\n  }));\n}\n\nexport function topoJSON2JSON(topoJSON) {\n  const objectName = Object.keys(topoJSON.objects)[0];\n  const geoJSON = TopoJSON.feature(topoJSON, topoJSON.objects[objectName]);\n  return geoJSON2JSON(geoJSON);\n}\n\nexport function getColumns(data) {\n  return data\n    .reduce((prev, curr) => [...new Set(prev.concat(Object.keys(curr)))], [])\n    .filter(col => col.indexOf('__') !== 0);\n}\n\nexport function unifyData(data) {\n  let res = [];\n  let type = '';\n\n  if (isGeoJSON(data)) {\n    res = geoJSON2JSON(data);\n    type = 'geojson';\n  } else if (isTopoJSON(data)) {\n    res = topoJSON2JSON(data);\n    type = 'topojson';\n  } else if (data.length && data.columns) {\n    type = 'csv';\n    res = data;\n  } else if (data.length) {\n    type = 'json';\n    res = data;\n  }\n\n  res.columns = getColumns(res);\n  res.type = type;\n\n  return res;\n}\n\nexport function parseFile(file) {\n  const jsonData = parseJSON(file) || parseCsv(file);\n\n  if (!jsonData) {\n    // file is not json or csv\n    return false;\n  }\n\n  return {\n    data: unifyData(jsonData),\n    rawData: file\n  };\n}\n\nexport default {\n  parseFile,\n  getColumns,\n  unifyData\n};\n","import React, { PureComponent } from 'react';\nimport ReactTable from 'react-table';\nimport PropTypes from 'prop-types';\nimport Styled from 'styled-components';\n\nimport 'react-table/react-table.css';\n\nconst TableWrapper = Styled.div`\n  position: relative;\n  background: transparent;\n\n  .ReactTable {\n    font-family: ${props => props.theme.fonts.mono};\n    height: 200px;\n  }\n\n  .ReactTable .rt-tbody {\n    overflow: unset;\n  }\n\n  .ReactTable .rt-thead .rt-th, .ReactTable .rt-thead .rt-td,\n  .ReactTable .rt-thead.-header {\n    box-shadow: none;\n    border-bottom: 1px solid #eee;\n    font-family: ${props => props.theme.fonts.sans};\n    font-weight: 700;\n  }\n\n  .ReactTable .rt-noData {\n    font-family: ${props => props.theme.fonts.sans};\n    text-align: center;\n    color: ${props => props.theme.colors.black};\n    background: transparent;\n    font-weight: 700;\n  }\n`;\n\nclass DataTable extends PureComponent {\n  static propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object),\n    excludeFields: PropTypes.arrayOf(PropTypes.string)\n  }\n\n  static defaultProps = {\n    data: [],\n    excludeFields: []\n  }\n\n  render() {\n    const { data, excludeFields } = this.props;\n\n    const columns = (data.columns || [])\n      // don't show columns we created in the background, don't show excluded fields\n      .filter(col => col.indexOf('__' !== 0) && !excludeFields.find(fieldName => fieldName === col))\n      .map(col => ({\n        Header: col,\n        accessor: col,\n        Cell: row => JSON.stringify(row.value)\n      }));\n\n    return (\n      <TableWrapper>\n        <ReactTable\n          className=\"-striped\"\n          data={data}\n          columns={columns}\n          showPagination={false}\n          sortable={false}\n          minRows={0}\n          noDataText=\" Please upload a file to see the result.\"\n        />\n      </TableWrapper>\n    );\n  }\n}\n\nexport default DataTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst StyledSelect = styled.select`\n  cursor: pointer;\n  width: 200px;\n  padding: 0 .571em;\n  font-size: 14px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n  border-radius: 4px;\n  height: 35px;\n\n  &:disabled {\n    background: #eee;\n    color: #777;\n  }\n`;\n\nclass Select extends Component {\n  static propTypes = {\n    options: PropTypes.arrayOf(PropTypes.string),\n    onChange: PropTypes.func,\n    placeholder: PropTypes.string\n  }\n\n  static defaultProps = {\n    options: [],\n    onChange: () => {},\n    placeholder: 'Select...'\n  }\n\n  onChange(evt) {\n    this.props.onChange(evt.target.value);\n  }\n\n  render() {\n    return (\n      <StyledSelect\n        onChange={evt => this.onChange(evt)}\n        disabled={this.props.disabled}\n        value={this.props.value}\n      >\n        {this.props.options.length === 0 && <option value=\"default\" disabled>{this.props.placeholder}</option>}\n        {this.props.options.map(opt => (\n          <option value={opt} key={`Select__Option__${opt}`}>{opt}</option>\n        ))}\n      </StyledSelect>\n    );\n  }\n}\n\nexport default Select;\n","import Styled from 'styled-components';\n\nexport default Styled.button`\n  background: ${props => (props.disabled ? props.theme.colors.interactionInactive : props.theme.colors.interaction)};\n  padding: 8px 16px;\n  font-weight: 700;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n\n  &:hover {\n    opacity: 0.9;\n  }\n`;\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Checkbox = Styled.div`\n  margin-bottom: 8px;\n  margin-right: 16px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.sans};\n  display: flex;\n  align-items: center;\n  line-height: 1;\n\n  input {\n    margin-right: 8px;\n    display: block:\n  }\n`;\n\nconst CheckboxLabel = Styled.label`\n  display: block;\n`;\n\n\nexport default ({\n  checked, onChange, label, ...rest\n}) => (\n  <Checkbox {...rest}>\n    <input\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onChange}\n    />\n    <CheckboxLabel>{label}</CheckboxLabel>\n  </Checkbox>\n);\n","import { css } from 'styled-components';\n\n// https://github.com/styled-components/styled-components/blob/master/docs/tips-and-tricks.md\nexport function getMediaQuery(size) {\n  return (...args) => css`\n    @media (min-width: ${size}px) {\n      ${css(...args)}\n    }\n  `;\n}\n\nexport const breakpoints = {\n  s: 460,\n  m: 768,\n  l: 1024\n};\n\nexport const media = {\n  s: getMediaQuery(breakpoints.s),\n  m: getMediaQuery(breakpoints.m),\n  l: getMediaQuery(breakpoints.l)\n};\n\nexport default {\n  getMediaQuery,\n  breakpoints,\n  media\n};\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nconst Textarea = Styled.textarea`\n  width: 100%;\n  resize: none;\n  padding: 16px;\n  border: 1px solid #eee;\n  resize: vertical;\n  min-height: 150px;\n  height: 100%;\n`;\n\nconst CopyPasteWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  height: 200px;\n`;\n\nclass CopyPasteTarget extends PureComponent {\n  render() {\n    return (\n      <CopyPasteWrapper>\n        <Textarea\n          placeholder={this.props.placeholder}\n          onChange={this.props.onChange}\n        />\n      </CopyPasteWrapper>\n    );\n  }\n}\n\nexport default CopyPasteTarget;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Styled from 'styled-components';\nimport {\n  Tab,\n  Tabs,\n  TabList,\n  TabPanel\n} from 'react-tabs';\nimport ReactDropzone from 'react-dropzone';\n\nimport FileIcon from 'react-feather/dist/icons/file';\nimport CloseIcon from 'react-feather/dist/icons/x';\n\nimport { parseFile } from '~/utils';\nimport CopyPasteTarget from './CopyPasteTarget';\n\nconst StyledTabs = Styled(Tabs)`\n  opacity: ${props => (props.isActive ? 1 : 0.25)};\n  pointer-events: ${props => (props.isActive ? 'all' : 'none')};\n`;\n\nconst TabContainer = Styled(TabList)`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n\n  > .react-tabs__tab {\n    padding: 8px 16px;\n    background: transparent;\n    cursor: pointer;\n    font-weight: 700;\n\n    &:hover, &--selected {\n      background: ${props => props.theme.colors.section};\n    }\n  }\n`;\n\nconst Dropzone = Styled(ReactDropzone)`\n  width: 100%;\n  height: 200px;\n  border-radius: 5px;\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  overflow: hidden;\n`;\n\nconst FileWrapper = Styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  padding: 16px;\n  width: 200px;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n  border-radius: 4px;\n  position: relative;\n`;\n\nconst CloseIconWrapper = Styled.div`\n  position: absolute;\n  right: -10px;\n  top: -10px;\n  background: ${props => props.theme.colors.interaction};\n  border-radius: 50%;\n  padding: 5px;\n  display: flex;\n  jusitfy-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n\nconst FileName = Styled.div`\n  font-size: 14px;\n  margin-top: 10px;\n`;\n\nclass FileHandler extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    isActive: PropTypes.bool,\n    dropText: PropTypes.string,\n    textareaPlaceholder: PropTypes.string\n  }\n\n  static defaultProps = {\n    onChange: () => {},\n    onError: () => {},\n    isActive: true,\n    dropText: 'Drop file here',\n    textareaPlaceholder: 'Paste data here'\n  }\n\n  onDrop(acceptedFiles) {\n    if (!acceptedFiles.length) {\n      return this.props.onError();\n    }\n\n    this.readFile(acceptedFiles[0]);\n  }\n\n  onPaste(evt) {\n    const content = evt.target.value;\n    const result = parseFile(content);\n\n    if (result) {\n      this.props.onChange({\n        ...result,\n        fileName: '',\n        type: 'copy-paste'\n      });\n    }\n  }\n\n  onDeleteFile(evt) {\n    evt.preventDefault();\n    this.props.onChange(null);\n  }\n\n  readFile(file) {\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      const content = reader.result;\n      const result = parseFile(content);\n\n      if (result) {\n        this.props.onChange({\n          ...result,\n          fileName: file.name,\n          type: file.type\n        });\n      }\n    };\n\n    reader.readAsText(file);\n  }\n\n  renderFile() {\n    if (!this.props.fileName) {\n      return this.props.dropText;\n    }\n\n    return (\n      <FileWrapper>\n        <CloseIconWrapper onClick={evt => this.onDeleteFile(evt)}>\n          <CloseIcon size={20} />\n        </CloseIconWrapper>\n        <FileIcon size={48} />\n        <FileName>{this.props.fileName}</FileName>\n      </FileWrapper>\n    );\n  }\n\n  render() {\n    return (\n      <StyledTabs isActive={this.props.isActive}>\n        <TabContainer>\n          <Tab>Upload File</Tab>\n          <Tab>Copy & Paste</Tab>\n        </TabContainer>\n        <TabPanel>\n          <Dropzone\n            accept={['.geojson', '.csv', '.json', '.topojson']}\n            onDrop={acceptedFiles => this.onDrop(acceptedFiles)}\n            multiple={false}\n          >\n            {this.renderFile()}\n          </Dropzone>\n        </TabPanel>\n        <TabPanel>\n          <CopyPasteTarget\n            onChange={evt => this.onPaste(evt)}\n            placeholder={this.props.textareaPlaceholder}\n          />\n        </TabPanel>\n      </StyledTabs>\n    );\n  }\n}\n\nexport default FileHandler;\n"],"sourceRoot":""}